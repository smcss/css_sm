#!/bin/bash

# http://www.gnu.org/software/bash/manual/bash.html#The-Set-Builtin
# http://redsymbol.net/articles/unofficial-bash-strict-mode/
set -o nounset -o errexit -o pipefail

script=`realpath $0`
scriptdir=`dirname $script`
scriptname=`basename $script`

cd $scriptdir/..

# build demos/demo.sass
bin/build

rm -rf build

mkdir -p build/docs/{concepts,reference}

cp -r demos build/docs
# rm -f build/docs/demos/index.php

cp -r src/docs/app.css build/docs

php src/docs/index.php > build/docs/index.html
php src/docs/concepts/index.php > build/docs/concepts/index.html
php src/docs/demos/index.php > build/docs/demos/index.html
php src/docs/reference/index.php > build/docs/reference/index.html
